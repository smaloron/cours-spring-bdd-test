<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-27T21:45:01.488263"><title>Chapitre 6 : Projet de Synth&egrave;se et Bonnes Pratiques - Pour aller plus loin | Behaviour driven dev</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-l-artisan-et-le-ma-tre","level":0,"title":"Introduction : L\u0027artisan et le maître","anchor":"#introduction-l-artisan-et-le-ma-tre"},{"id":"1-les-bonnes-pratiques-du-bdd-les-faire","level":0,"title":"1. Les Bonnes Pratiques du BDD (Les \"À FAIRE\")","anchor":"#1-les-bonnes-pratiques-du-bdd-les-faire"},{"id":"2-les-pi-ges-viter-les-ne-pas-faire","level":0,"title":"2. Les Pièges à Éviter (Les \"À NE PAS FAIRE\")","anchor":"#2-les-pi-ges-viter-les-ne-pas-faire"},{"id":"3-la-documentation-vivante-g-n-rer-des-rapports","level":0,"title":"3. La Documentation Vivante : Générer des Rapports","anchor":"#3-la-documentation-vivante-g-n-rer-des-rapports"},{"id":"exercice-8-r-flexion-sur-les-bonnes-pratiques","level":0,"title":"Exercice 8 : Réflexion sur les bonnes pratiques","anchor":"#exercice-8-r-flexion-sur-les-bonnes-pratiques"},{"id":"correction-exercice-8","level":0,"title":"Correction exercice 8","anchor":"#correction-exercice-8"},{"id":"auto-valuation-finale","level":0,"title":"Auto-évaluation Finale","anchor":"#auto-valuation-finale"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Chapitre 6 : Projet de Synth&egrave;se et Bonnes Pratiques - Pour aller plus loin | Behaviour driven dev"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Behaviour driven dev Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/006-01-best-practices.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Chapitre 6 : Projet de Synth&egrave;se et Bonnes Pratiques - Pour aller plus loin | Behaviour driven dev"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/006-01-best-practices.html#webpage",
    "url": "writerside-documentation/006-01-best-practices.html",
    "name": "Chapitre 6 : Projet de Synth&egrave;se et Bonnes Pratiques - Pour aller plus loin | Behaviour driven dev",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Behaviour driven dev Help"
}</script><!-- End Schema.org --></head><body data-id="006-01-best-practices" data-main-title="Chapitre 6 : Projet de Synthèse et Bonnes Pratiques - Pour aller plus loin" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="006-00-final-project.md|Chapitre 6 : Projet de Synthèse et Bonnes Pratiques"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Behaviour driven dev  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="006-01-best-practices" id="006-01-best-practices.md">Chapitre 6 : Projet de Synthèse et Bonnes Pratiques - Pour aller plus loin</h1><p id="rb6es1_3">F&eacute;licitations pour avoir men&eacute; le projet de synth&egrave;se &agrave; son terme ! Vous poss&eacute;dez maintenant toutes les comp&eacute;tences techniques pour mettre en &oelig;uvre le BDD sur un projet Spring Boot. Mais la technique seule ne suffit pas. L'excellence vient de l'application judicieuse de cette technique.</p><p id="rb6es1_4">Cette section est le &quot;guide du sage&quot;. Elle contient les conseils, les avertissements et les principes qui transformeront votre pratique du BDD d'une simple ex&eacute;cution de tests &agrave; une v&eacute;ritable philosophie de d&eacute;veloppement qui am&eacute;liore la qualit&eacute;, la communication et la maintenabilit&eacute; de vos projets.</p><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h2><p id="rb6es1_13">&Agrave; la fin de cette section, vous serez capable de :</p><ul class="list _bullet" id="rb6es1_14"><li class="list__item" id="rb6es1_15"><p id="rb6es1_20"><span class="control" id="rb6es1_21">Identifier et appliquer</span> les bonnes pratiques fondamentales de l'&eacute;criture de sc&eacute;narios BDD.</p></li><li class="list__item" id="rb6es1_16"><p id="rb6es1_22"><span class="control" id="rb6es1_23">Reconna&icirc;tre</span> les anti-patterns (pi&egrave;ges courants) et savoir comment les &eacute;viter.</p></li><li class="list__item" id="rb6es1_17"><p id="rb6es1_24"><span class="control" id="rb6es1_25">Comprendre</span> la place du BDD dans l'&eacute;cosyst&egrave;me global des tests (pyramide des tests).</p></li><li class="list__item" id="rb6es1_18"><p id="rb6es1_26"><span class="control" id="rb6es1_27">Configurer</span> votre projet pour g&eacute;n&eacute;rer des rapports de test HTML lisibles.</p></li><li class="list__item" id="rb6es1_19"><p id="rb6es1_28"><span class="control" id="rb6es1_29">Int&eacute;grer</span> le BDD dans un flux de travail de d&eacute;veloppement agile plus large.</p></li></ul></section><section class="chapter"><h2 id="introduction-l-artisan-et-le-ma-tre" data-toc="introduction-l-artisan-et-le-ma-tre">Introduction : L'artisan et le ma&icirc;tre</h2><p id="rb6es1_30">Un artisan sait parfaitement utiliser ses outils. Un ma&icirc;tre sait pourquoi il utilise un outil plut&ocirc;t qu'un autre, et comment son travail s'int&egrave;gre dans un projet plus vaste. C'est la transition que nous allons op&eacute;rer maintenant.</p><p id="rb6es1_31">Ma&icirc;triser les bonnes pratiques du BDD, c'est s'assurer que les b&eacute;n&eacute;fices que nous avons vant&eacute;s &ndash; la communication, la documentation vivante, la confiance &ndash; se r&eacute;alisent vraiment. Mal appliqu&eacute;, le BDD peut devenir une charge, une suite de tests lente et fragile. Bien appliqu&eacute;, il devient le super-pouvoir de votre &eacute;quipe.</p></section><section class="chapter"><h2 id="1-les-bonnes-pratiques-du-bdd-les-faire" data-toc="1-les-bonnes-pratiques-du-bdd-les-faire">1. Les Bonnes Pratiques du BDD (Les &quot;&Agrave; FAIRE&quot;)</h2><p id="rb6es1_32">Ces principes doivent devenir vos r&eacute;flexes.</p><div class="tabs" id="rb6es1_33" data-anchors="[rb6es1_34,rb6es1_35,rb6es1_36,rb6es1_37]"><div class="tabs__content" data-gtm="tab" id="rb6es1_34" data-title="&Eacute;crire du point de vue de l'utilisateur"><p>Un sc&eacute;nario doit d&eacute;crire ce que l'utilisateur veut accomplir et ce qu'il observe, pas ce que le syst&egrave;me fait en interne. </p><ul class="list _bullet" id="rb6es1_38"><li class="list__item" id="rb6es1_39"><p id="rb6es1_41"><span class="control" id="rb6es1_42">&Agrave; &eacute;viter :</span> <code class="code" id="rb6es1_43">Then la m&eacute;thode save() du repository est appel&eacute;e.</code> (D&eacute;tail d'impl&eacute;mentation)</p></li><li class="list__item" id="rb6es1_40"><p id="rb6es1_44"><span class="control" id="rb6es1_45">&Agrave; faire :</span> <code class="code" id="rb6es1_46">Then le nouveau livre doit appara&icirc;tre dans le catalogue.</code> (R&eacute;sultat observable)</p></li></ul></div><div class="tabs__content" data-gtm="tab" id="rb6es1_35" data-title="Rester d&eacute;claratif, pas imp&eacute;ratif"><p>Nous l'avons d&eacute;j&agrave; vu, mais c'est la r&egrave;gle d'or. D&eacute;crivez le **&quot;quoi&quot;**, pas le **&quot;comment&quot;**. </p><ul class="list _bullet" id="rb6es1_47"><li class="list__item" id="rb6es1_49"><p id="rb6es1_51"><span class="control" id="rb6es1_52">Imp&eacute;ratif :</span> <code class="code" id="rb6es1_53">When je saisis &quot;Dune&quot; dans le champ &quot;q&quot; et je clique sur le bouton &quot;btn-search&quot;</code></p></li><li class="list__item" id="rb6es1_50"><p id="rb6es1_54"><span class="control" id="rb6es1_55">D&eacute;claratif :</span> <code class="code" id="rb6es1_56">When je recherche le livre &quot;Dune&quot;</code></p></li></ul><p id="rb6es1_48">Cela rend vos tests plus robustes aux changements d'interface et plus lisibles pour le m&eacute;tier.</p></div><div class="tabs__content" data-gtm="tab" id="rb6es1_36" data-title="Un seul 'When' par sc&eacute;nario"><p>Un sc&eacute;nario doit tester **une seule chose**. Un seul comportement. Le `When` est l'action, le d&eacute;clencheur. S'il y a plusieurs `When`, c'est probablement que vous essayez de tester plusieurs comportements &agrave; la fois. S&eacute;parez-les en plusieurs sc&eacute;narios.</p></div><div class="tabs__content" data-gtm="tab" id="rb6es1_37" data-title="Le BDD ne remplace pas les tests unitaires"><p>Le BDD est parfait pour les tests de comportement, d'int&eacute;gration et d'acceptance. Mais il n'est pas fait pour tester chaque petite m&eacute;thode ou classe de mani&egrave;re isol&eacute;e. C'est le r&ocirc;le des tests unitaires (avec JUnit/Mockito), qui sont beaucoup plus rapides &agrave; &eacute;crire et &agrave; ex&eacute;cuter. </p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="338px" preserveAspectRatio="none" style="width:605px;height:338px;background:#FFFFFF;" version="1.1" viewBox="0 0 605 338" width="605px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="163" x="214.25" y="23.5352">La Pyramide des Tests</text><!--entity E2E--><g id="elem_E2E"><rect fill="#FF0000" height="52.9766" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="199" x="34" y="44.9583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="44" y="68.4934">Tests End-to-End (UI/API)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="44" y="84.9817">Peu nombreux, lents</text></g><!--entity BDD--><g id="elem_BDD"><rect fill="#FFA500" height="52.9766" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="253" x="7" y="160.8883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="17" y="184.4234">Tests d'Int&#233;gration / Service (BDD)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="17" y="200.9117">Plus nombreux, assez rapides</text></g><!--entity Unit--><g id="elem_Unit"><rect fill="#008000" height="52.9766" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="215" x="26" y="276.8283"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="36" y="300.3634">Tests Unitaires</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="36" y="316.8517">Tr&#232;s nombreux, tr&#232;s rapides</text></g><g id="elem_GMN7"><path d="M268.5,46.9883 L268.5,67.4483 L233.26,71.4483 L268.5,75.4483 L268.5,95.9199 A3.5,3.5 0 0 0 272,99.4199 L447,99.4199 A3.5,3.5 0 0 0 450.5,95.9199 L450.5,53.4883 L440.5,43.4883 L272,43.4883 A3.5,3.5 0 0 0 268.5,46.9883 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M440.5,43.4883 L440.5,51.7383 A1.75,1.75 0 0 0 442.25,53.4883 L450.5,53.4883 L440.5,43.4883 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="274.5" y="61.0566">Simule un vrai utilisateur.</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="274.5" y="76.3672">Valide le flux complet.</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="274.5" y="91.6777">Ex: Selenium, Cypress</text></g><g id="elem_GMN10"><path d="M294.5,162.9183 L294.5,183.3783 L260.35,187.3783 L294.5,191.3783 L294.5,211.8499 A3.5,3.5 0 0 0 298,215.3499 L595,215.3499 A3.5,3.5 0 0 0 598.5,211.8499 L598.5,169.4183 L588.5,159.4183 L298,159.4183 A3.5,3.5 0 0 0 294.5,162.9183 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M588.5,159.4183 L588.5,167.6683 A1.75,1.75 0 0 0 590.25,169.4183 L598.5,169.4183 L588.5,159.4183 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="300.5" y="176.9866">Valide le comportement d'une fonctionnalit&#233;.</text><text fill="#454645" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="180" x="300.5" y="192.2972">&lt;-- C'est ici que vit le BDD</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="300.5" y="207.6077">Ex: Cucumber, MockMvc</text></g><g id="elem_GMN13"><path d="M275.5,278.8483 L275.5,299.3083 L241.4,303.3083 L275.5,307.3083 L275.5,327.7799 A3.5,3.5 0 0 0 279,331.2799 L568,331.2799 A3.5,3.5 0 0 0 571.5,327.7799 L571.5,285.3483 L561.5,275.3483 L279,275.3483 A3.5,3.5 0 0 0 275.5,278.8483 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M561.5,275.3483 L561.5,283.5983 A1.75,1.75 0 0 0 563.25,285.3483 L571.5,285.3483 L561.5,275.3483 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="281.5" y="292.9166">Valide un seul composant (classe/m&#233;thode)</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="281.5" y="308.2272">en isolation.</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="281.5" y="323.5377">Ex: JUnit, Mockito</text></g><!--link E2E to BDD--><!--link BDD to Unit--><!--SRC=[TPB1RXCn48Rl-nH3SqWgPOd44KMLIXAX82eYsdAX79pTINR0EmxsEAGy4NcEl5XdDgKA1IvhhVtxct_-yGjfi4NOqZ8wba98FC9x1ulxw5gg4MfCS8D9Kb7qONhOhuWfWjVTAkIgqLL5ti7cyK8HiHB7QyMSTVTWndKfeTG51hVpqULYVdx72yp0eLr6pBkXubZI6JWLlvf1xoFMVsFg_fpbi5z79nGOHd2DSKiLmk3DT6f4dzC9qgM4Fo6wZNewebK6lG_QvleV9c-Pn574TCStyV3hb2JT_od9nD1x6n7PKbc4HEQ9yOzW2kkb_DnGNID_gSCFBir3OJwURHlGI9TVGnQbMEWSH1dsXKZhHY2iB9q2u9hQhCupmpOwWYpaAJd175_gwIVdRMugMFcyKpFjngFOoMptMaFJh2ctGvZSRxJTLA3EnQeKpsgPrLEQWK8KVIqiEepCMY1mrJMk8XsDrHWlByPb2PE-fWfK4NpFzhh424eSZvONZquckShj4kCGhaBrxMfR_TT9bywJ5MqxOVP7FqaVBGmgRzCUjOUzDA76SnKZ0wNWkxVok_Tt1ZgM8mbFvHu0]--></g></svg></div><p id="rb6es1_58">Une bonne strat&eacute;gie de test a une large base de tests unitaires, une couche interm&eacute;diaire de tests BDD/int&eacute;gration, et un petit sommet de tests end-to-end.</p></div></div></section><section class="chapter"><h2 id="2-les-pi-ges-viter-les-ne-pas-faire" data-toc="2-les-pi-ges-viter-les-ne-pas-faire">2. Les Pi&egrave;ges &agrave; &Eacute;viter (Les &quot;&Agrave; NE PAS FAIRE&quot;)</h2><aside class="prompt" data-type="warning" data-title="" id="rb6es1_59"><p>**Attention aux anti-patterns !** </p><ul class="list _bullet" id="rb6es1_60"><li class="list__item" id="rb6es1_61"><p><b id="rb6es1_65">Sc&eacute;narios trop longs :</b> Si un sc&eacute;nario a 15 &eacute;tapes, il est illisible et teste probablement trop de choses. D&eacute;coupez-le !</p></li><li class="list__item" id="rb6es1_62"><p><b id="rb6es1_66">D&eacute;pendance entre sc&eacute;narios :</b> <b id="rb6es1_67">Chaque sc&eacute;nario doit &ecirc;tre ind&eacute;pendant.</b> Le sc&eacute;nario 2 ne doit jamais d&eacute;pendre du fait que le sc&eacute;nario 1 a &eacute;t&eacute; ex&eacute;cut&eacute; avant lui. Le <code class="code" id="rb6es1_68">Background</code> est l&agrave; pour garantir un &eacute;tat initial commun et propre &agrave; chaque ex&eacute;cution.</p></li><li class="list__item" id="rb6es1_63"><p><b id="rb6es1_69">Tester des d&eacute;tails d'impl&eacute;mentation :</b> C'est le pi&egrave;ge le plus courant. Ne testez jamais la structure d'une base de donn&eacute;es, le nom d'une variable priv&eacute;e ou une librairie interne. Testez le contrat, le comportement observable de l'ext&eacute;rieur.</p></li><li class="list__item" id="rb6es1_64"><p><b id="rb6es1_70">Utiliser l'interface utilisateur comme un oracle :</b> Ne d&eacute;crivez pas les couleurs, les polices ou la position des &eacute;l&eacute;ments dans vos steps Gherkin. Ces d&eacute;tails changent tout le temps et rendront vos tests extr&ecirc;mement fragiles.</p></li></ul></aside></section><section class="chapter"><h2 id="3-la-documentation-vivante-g-n-rer-des-rapports" data-toc="3-la-documentation-vivante-g-n-rer-des-rapports">3. La Documentation Vivante : G&eacute;n&eacute;rer des Rapports</h2><p id="rb6es1_71">L'un des plus grands b&eacute;n&eacute;fices du BDD est de produire une documentation que tout le monde peut lire. Pour cela, Cucumber peut g&eacute;n&eacute;rer de magnifiques rapports HTML.</p><p id="rb6es1_72">Il suffit de configurer le lanceur de tests pour lui indiquer o&ugrave; g&eacute;n&eacute;rer le rapport.</p><section class="procedure-steps"><h3 id="rb6es1_73" data-toc="rb6es1_73">Configurer les rapports HTML</h3><p id="rb6es1_75">La mani&egrave;re la plus simple est de cr&eacute;er un fichier de configuration <code class="code" id="rb6es1_80">junit-platform.properties</code> &agrave; la racine de <code class="code" id="rb6es1_81">src/test/resources</code>.</p><p id="rb6es1_76"><span class="control" id="rb6es1_82"><code class="code" id="rb6es1_83">src/test/resources/junit-platform.properties</code></span></p><div class="code-block" data-lang="properties">
# Active le plugin de rapportage de Cucumber
cucumber.plugin=pretty, html:target/cucumber-report.html
# Spécifie où se trouvent les features et le code glue
cucumber.glue=fr.formation.spring.librarymanagement.bdd
cucumber.features=src/test/resources/features
</div><ol class="list _decimal" id="rb6es1_78" type="1"><li class="list__item" id="rb6es1_84"><p id="rb6es1_86"><span class="control" id="rb6es1_87"><code class="code" id="rb6es1_88">pretty</code></span>: Affiche une sortie sympa dans la console.</p></li><li class="list__item" id="rb6es1_85"><p id="rb6es1_89"><span class="control" id="rb6es1_90"><code class="code" id="rb6es1_92">html:target/cucumber-report.html</code></span>: C'est la ligne magique. Elle dit &agrave; Cucumber de cr&eacute;er un rapport HTML &agrave; l'emplacement <code class="code" id="rb6es1_91">target/cucumber-report.html</code> apr&egrave;s chaque ex&eacute;cution.</p></li></ol><p id="rb6es1_79">Maintenant, apr&egrave;s avoir lanc&eacute; vos tests (par exemple avec <code class="code" id="rb6es1_93">mvn test</code> en ligne de commande), ouvrez ce fichier HTML dans votre navigateur. Vous verrez un rapport d&eacute;taill&eacute;, interactif, montrant chaque feature, chaque sc&eacute;nario, chaque &eacute;tape, avec leur statut (pass&eacute;, &eacute;chou&eacute;) et la dur&eacute;e d'ex&eacute;cution. C'est ce rapport que vous pouvez partager avec votre Product Owner ou votre chef de projet !</p><ol class="list _decimal"></ol></section></section><section class="chapter"><h2 id="exercice-8-r-flexion-sur-les-bonnes-pratiques" data-toc="exercice-8-r-flexion-sur-les-bonnes-pratiques">Exercice 8 : R&eacute;flexion sur les bonnes pratiques</h2><p id="rb6es1_94">Ceci est un exercice de r&eacute;flexion, pas de code. Lisez les deux sc&eacute;narios ci-dessous et r&eacute;pondez aux questions.</p><p id="rb6es1_95"><span class="control" id="rb6es1_101">Sc&eacute;nario A</span></p><div class="code-block" data-lang="gherkin">
Scenario: L'utilisateur se connecte
  Given l'utilisateur est sur la page &quot;/login&quot;
  When il entre &quot;testuser&quot; dans le champ &quot;username&quot;
  And il entre &quot;password123&quot; dans le champ &quot;password&quot;
  And il clique sur le bouton &quot;loginButton&quot;
  Then l'URL doit devenir &quot;/home&quot;
  And la table &quot;USER_SESSIONS&quot; doit contenir une nouvelle ligne
</div><p id="rb6es1_97"><span class="control" id="rb6es1_102">Sc&eacute;nario B</span></p><div class="code-block" data-lang="gherkin">
Scenario: Un utilisateur valide peut se connecter au système
  Given un utilisateur est enregistré avec le nom &quot;testuser&quot;
  When il se connecte avec ses identifiants valides
  Then il doit être redirigé vers sa page d'accueil
  And sa session doit être active
</div><p id="rb6es1_99"><span class="control" id="rb6es1_103">Questions :</span></p><ol class="list _decimal" id="rb6es1_100" type="1"><li class="list__item" id="rb6es1_104"><p id="rb6es1_108">Lequel de ces deux sc&eacute;narios est &eacute;crit dans un style d&eacute;claratif ? Pourquoi ?</p></li><li class="list__item" id="rb6es1_105"><p id="rb6es1_109">Lequel est le plus fragile face &agrave; des changements techniques (ex: un refactoring du front-end ou de la base de donn&eacute;es) ? Expliquez.</p></li><li class="list__item" id="rb6es1_106"><p id="rb6es1_110">Si vous &eacute;tiez un Product Owner ne sachant pas coder, lequel comprendriez-vous le mieux ?</p></li><li class="list__item" id="rb6es1_107"><p id="rb6es1_111">Identifiez au moins deux &quot;anti-patterns&quot; dans le Sc&eacute;nario A.</p></li></ol></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="correction-exercice-8" data-toc="correction-exercice-8">Correction exercice 8</h2></div><div class="collapse__content"><ol class="list _decimal" id="rb6es1_112" type="1"><li class="list__item" id="rb6es1_114"><p id="rb6es1_118"><span class="control" id="rb6es1_119">Sc&eacute;nario B est d&eacute;claratif.</span> Il d&eacute;crit l'intention (&quot;se connecte avec ses identifiants valides&quot;) sans pr&eacute;ciser comment cela se fait (quels champs, quels boutons).</p></li><li class="list__item" id="rb6es1_115"><p id="rb6es1_120"><span class="control" id="rb6es1_121">Sc&eacute;nario A est beaucoup plus fragile.</span> Si un d&eacute;veloppeur renomme le champ <code class="code" id="rb6es1_122">username</code> en <code class="code" id="rb6es1_123">email</code>, ou le bouton <code class="code" id="rb6es1_124">loginButton</code> en <code class="code" id="rb6es1_125">submitBtn</code>, le test &eacute;choue alors que la fonctionnalit&eacute; de connexion marche toujours. De m&ecirc;me, si le nom de la table <code class="code" id="rb6es1_126">USER_SESSIONS</code> change, le test est cass&eacute;. Le Sc&eacute;nario B est immunis&eacute; contre ces changements.</p></li><li class="list__item" id="rb6es1_116"><p id="rb6es1_127"><span class="control" id="rb6es1_128">Le Sc&eacute;nario B est infiniment plus clair</span> pour un non-technicien. Il parle le langage du m&eacute;tier et du comportement, pas le langage de la technique.</p></li><li class="list__item" id="rb6es1_117"><p id="rb6es1_129"><span class="control" id="rb6es1_131">Anti-patterns dans le Sc&eacute;nario A :</span></p><ul class="list _bullet" id="rb6es1_130"><li class="list__item" id="rb6es1_132"><p id="rb6es1_134"><span class="control" id="rb6es1_135">Style imp&eacute;ratif :</span> Il d&eacute;crit les clics et la saisie de champs.</p></li><li class="list__item" id="rb6es1_133"><p id="rb6es1_136"><span class="control" id="rb6es1_137">Test de d&eacute;tails d'impl&eacute;mentation :</span> Il v&eacute;rifie directement une table en base de donn&eacute;es (<code class="code" id="rb6es1_138">USER_SESSIONS</code>), ce qui est un tr&egrave;s grand &quot;non&quot;. Il devrait v&eacute;rifier un comportement observable (&quot;sa session doit &ecirc;tre active&quot;, ce qui pourrait &ecirc;tre test&eacute; en essayant d'acc&eacute;der &agrave; une page prot&eacute;g&eacute;e, par exemple).</p></li></ul></li></ol></div></div></section><section class="chapter"><h2 id="auto-valuation-finale" data-toc="auto-valuation-finale">Auto-&eacute;valuation Finale</h2><ol class="list _decimal" id="rb6es1_139" type="1"><li class="list__item" id="rb6es1_140"><p id="rb6es1_145"><span class="control" id="rb6es1_146">La &quot;pyramide des tests&quot; sugg&egrave;re que vous devriez avoir :</span> a) Autant de tests unitaires que de tests BDD. b) Plus de tests End-to-End que de tests unitaires. c) Une large base de tests unitaires rapides, et moins de tests d'int&eacute;gration/BDD plus lents. d) Uniquement des tests BDD.</p></li><li class="list__item" id="rb6es1_141"><p id="rb6es1_147"><span class="control" id="rb6es1_148">Lequel de ces &quot;steps&quot; est un bon exemple de pratique BDD ?</span> a) <code class="code" id="rb6es1_149">Then je v&eacute;rifie que le cache de second niveau de Hibernate est vide.</code> b) <code class="code" id="rb6es1_150">Then le produit est ajout&eacute; &agrave; mon panier.</code> c) <code class="code" id="rb6es1_151">When j'appelle la m&eacute;thode</code>POST<code class="code" id="rb6es1_152">sur</code> /api/cart<code class="code" id="rb6es1_153">.</code> d) <code class="code" id="rb6es1_154">Then la ligne suivante est ins&eacute;r&eacute;e dans la table 'CART_ITEMS'.</code></p></li><li class="list__item" id="rb6es1_142"><p id="rb6es1_155"><span class="control" id="rb6es1_156">Quel est le principal risque si vos sc&eacute;narios de test ne sont pas ind&eacute;pendants les uns des autres ?</span> a) Les tests seront plus lents &agrave; s'ex&eacute;cuter. b) Le rapport HTML ne pourra pas &ecirc;tre g&eacute;n&eacute;r&eacute;. c) Un &eacute;chec dans un sc&eacute;nario peut provoquer des &eacute;checs en cascade dans les suivants, rendant le d&eacute;bogage tr&egrave;s difficile. d) Il n'y a aucun risque, c'est une bonne pratique pour optimiser les tests.</p></li><li class="list__item" id="rb6es1_143"><p id="rb6es1_157"><span class="control" id="rb6es1_158">En vos propres mots, expliquez le concept de &quot;Documentation Vivante&quot;. Pourquoi est-ce si diff&eacute;rent d'une documentation classique (ex: un document Word ou un Wiki) ?</span></p></li><li class="list__item" id="rb6es1_144"><p id="rb6es1_159"><span class="control" id="rb6es1_160">Vous venez de rejoindre un projet o&ugrave; les sc&eacute;narios Gherkin sont remplis de s&eacute;lecteurs CSS et d'ID de boutons. Quel est le probl&egrave;me principal avec cette approche, et quel argument utiliseriez-vous pour convaincre l'&eacute;quipe de passer &agrave; un style plus d&eacute;claratif ?</span></p></li></ol></section><div class="last-modified">18 juillet 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="006-00-final-project.html" class="navigation-links__prev">Chapitre 6 : Projet de Synth&egrave;se et Bonnes Pratiques</a><a href="007-00-conclusion.html" class="navigation-links__next">Conclusion G&eacute;n&eacute;rale du Cours</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>