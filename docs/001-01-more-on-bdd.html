<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-27T21:45:01.488597"><title>Chapitre 1 : Les Fondations du BDD - Pour aller plus loin | Behaviour driven dev</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-de-l-artisanat-l-industrialisation","level":0,"title":"Introduction : De l\u0027artisanat à l\u0027industrialisation","anchor":"#introduction-de-l-artisanat-l-industrialisation"},{"id":"1-factoriser-le-contexte-avec-background","level":0,"title":"1. Factoriser le contexte avec Background","anchor":"#1-factoriser-le-contexte-avec-background"},{"id":"2-tester-de-multiples-donn-es-avec-scenario-outline","level":0,"title":"2. Tester de multiples données avec Scenario Outline","anchor":"#2-tester-de-multiples-donn-es-avec-scenario-outline"},{"id":"3-structurer-les-donn-es-avec-les-data-tables","level":0,"title":"3. Structurer les données avec les Data Tables","anchor":"#3-structurer-les-donn-es-avec-les-data-tables"},{"id":"4-style-d-claratif-vs-imp-ratif-pensez-quoi-pas-comment","level":0,"title":"4. Style Déclaratif vs. Impératif : Pensez \"Quoi\", pas \"Comment\"","anchor":"#4-style-d-claratif-vs-imp-ratif-pensez-quoi-pas-comment"},{"id":"exercice-2-mettre-en-pratique-les-techniques-avanc-es","level":0,"title":"Exercice 2 : Mettre en pratique les techniques avancées","anchor":"#exercice-2-mettre-en-pratique-les-techniques-avanc-es"},{"id":"correction-exercice-2","level":0,"title":"Correction exercice 2","anchor":"#correction-exercice-2"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion-vous-tes-pr-t-structurer-vos-tests","level":0,"title":"Conclusion : Vous êtes prêt à structurer vos tests","anchor":"#conclusion-vous-tes-pr-t-structurer-vos-tests"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Chapitre 1 : Les Fondations du BDD - Pour aller plus loin | Behaviour driven dev"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Behaviour driven dev Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/001-01-more-on-bdd.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Chapitre 1 : Les Fondations du BDD - Pour aller plus loin | Behaviour driven dev"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/001-01-more-on-bdd.html#webpage",
    "url": "writerside-documentation/001-01-more-on-bdd.html",
    "name": "Chapitre 1 : Les Fondations du BDD - Pour aller plus loin | Behaviour driven dev",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Behaviour driven dev Help"
}</script><!-- End Schema.org --></head><body data-id="001-01-more-on-bdd" data-main-title="Chapitre 1 : Les Fondations du BDD - Pour aller plus loin" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="001-00-intro.md|Chapitre 1 : Les Fondations du BDD - L'essentiel"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Behaviour driven dev  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="001-01-more-on-bdd" id="001-01-more-on-bdd.md">Chapitre 1 : Les Fondations du BDD - Pour aller plus loin</h1><p id="mrjyqh_3">Vous ma&icirc;trisez maintenant la structure de base <code class="code" id="mrjyqh_15">Given/When/Then</code>. C'est excellent ! Mais que se passe-t-il lorsque vos fonctionnalit&eacute;s deviennent plus complexes ? Quand vous devez tester des dizaines de variations d'un m&ecirc;me comportement ? Si vous &eacute;criviez un sc&eacute;nario pour chaque cas, vos fichiers <code class="code" id="mrjyqh_16">.feature</code> deviendraient rapidement longs, r&eacute;p&eacute;titifs et difficiles &agrave; maintenir.</p><p id="mrjyqh_4">C'est l&agrave; que les fonctionnalit&eacute;s avanc&eacute;es de Gherkin entrent en jeu. Elles sont con&ccedil;ues pour vous aider &agrave; rester <span class="control" id="mrjyqh_17">DRY ( Don't Repeat Yourself)</span> et &agrave; structurer vos tests de mani&egrave;re logique et lisible.</p><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h2><p id="mrjyqh_18">&Agrave; la fin de cette section, vous serez capable de :</p><ul class="list _bullet" id="mrjyqh_19"><li class="list__item" id="mrjyqh_20"><p id="mrjyqh_25"><span class="control" id="mrjyqh_26">Factoriser</span> les conditions initiales communes avec le mot-cl&eacute; <code class="code" id="mrjyqh_27">Background</code>.</p></li><li class="list__item" id="mrjyqh_21"><p id="mrjyqh_28"><span class="control" id="mrjyqh_29">&Eacute;crire des sc&eacute;narios param&eacute;tr&eacute;s</span> pour tester de multiples jeux de donn&eacute;es avec <code class="code" id="mrjyqh_30">Scenario Outline</code> et <code class="code" id="mrjyqh_31">Examples</code>.</p></li><li class="list__item" id="mrjyqh_22"><p id="mrjyqh_32"><span class="control" id="mrjyqh_33">Utiliser</span> les <code class="code" id="mrjyqh_34">Data Tables</code> pour passer des donn&eacute;es structur&eacute;es &agrave; vos tests.</p></li><li class="list__item" id="mrjyqh_23"><p id="mrjyqh_35"><span class="control" id="mrjyqh_36">Distinguer</span> le style d'&eacute;criture &quot;D&eacute;claratif&quot; du style &quot;Imp&eacute;ratif&quot; et comprendre pourquoi le premier est pr&eacute;f&eacute;rable.</p></li><li class="list__item" id="mrjyqh_24"><p id="mrjyqh_37"><span class="control" id="mrjyqh_38">R&eacute;diger</span> des sc&eacute;narios BDD robustes, maintenables et expressifs.</p></li></ul></section><section class="chapter"><h2 id="introduction-de-l-artisanat-l-industrialisation" data-toc="introduction-de-l-artisanat-l-industrialisation">Introduction : De l'artisanat &agrave; l'industrialisation</h2><p id="mrjyqh_39">Imaginez que vous &ecirc;tes un artisan qui vient de fabriquer un magnifique prototype de chaise. C'est notre premier sc&eacute;nario. Maintenant, le client en commande 500. Allez-vous refabriquer chaque chaise de A &agrave; Z ? Bien s&ucirc;r que non. Vous allez cr&eacute;er des gabarits, des moules, optimiser votre processus.</p><p id="mrjyqh_40">C'est exactement la m&ecirc;me id&eacute;e ici. Les techniques que nous allons voir sont les gabarits et les outils qui vont vous permettre de &quot;produire&quot; des tests de haute qualit&eacute; en s&eacute;rie, de mani&egrave;re efficace et coh&eacute;rente. Vous passerez du d&eacute;veloppeur qui &eacute;crit des tests &agrave; l'architecte qui con&ccedil;oit une strat&eacute;gie de test compl&egrave;te et durable.</p></section><section class="chapter"><h2 id="1-factoriser-le-contexte-avec-background" data-toc="1-factoriser-le-contexte-avec-background">1. Factoriser le contexte avec <code class="code" id="mrjyqh_47">Background</code></h2><p id="mrjyqh_42">Tr&egrave;s souvent, plusieurs sc&eacute;narios au sein d'un m&ecirc;me fichier <code class="code" id="mrjyqh_48">.feature</code> partagent les m&ecirc;mes pr&eacute;requis. Dans notre exemple de recherche de livre, chaque sc&eacute;nario commen&ccedil;ait par supposer qu'une certaine liste de livres existait.</p><section class="procedure-steps"><h3 id="mrjyqh_43" data-toc="mrjyqh_43">Le problème : la répétition</h3><p id="mrjyqh_49">Sans <code class="code" id="mrjyqh_51">Background</code>, nous devrions r&eacute;p&eacute;ter le m&ecirc;me <code class="code" id="mrjyqh_52">Given</code> partout :</p><div class="code-block" data-lang="gherkin">
Feature: Recherche de livres

  Scenario: Un livre existant
    Given les livres suivants existent dans la bibliothèque:
      | titre              | auteur           |
      | Dune               | Frank Herbert    |
      | 1984               | George Orwell    |
    When je recherche le livre avec le titre &quot;Dune&quot;
    Then ...

  Scenario: Un livre inexistant
    Given les livres suivants existent dans la bibliothèque:
      | titre              | auteur           |
      | Dune               | Frank Herbert    |
      | 1984               | George Orwell    |
    When je recherche le livre avec le titre &quot;Inexistant&quot;
    Then ...
</div><ol class="list _decimal"></ol></section><p id="mrjyqh_44">Le mot-cl&eacute; <code class="code" id="mrjyqh_53">Background</code> est la solution. Il vous permet de d&eacute;finir un ensemble de <code class="code" id="mrjyqh_54">Given</code> qui sera ex&eacute;cut&eacute; <span class="control" id="mrjyqh_55">avant chaque sc&eacute;nario</span> du fichier.</p><section class="procedure-steps"><h3 id="mrjyqh_45" data-toc="mrjyqh_45">La solution : le `Background`</h3><p id="mrjyqh_56">On factorise le contexte commun une seule fois.</p><div class="code-block" data-lang="gherkin">
Feature: Recherche de livres

  Background:
    Given les livres suivants existent dans la bibliothèque:
      | titre              | auteur           |
      | Dune               | Frank Herbert    |
      | 1984               | George Orwell    |

  Scenario: Un livre existant
    When je recherche le livre avec le titre &quot;Dune&quot;
    Then les informations du livre &quot;Dune&quot; sont affichées.

  Scenario: Un livre inexistant
    When je recherche le livre avec le titre &quot;Inexistant&quot;
    Then un message d'erreur &quot;Livre non trouvé&quot; est affiché.
</div><ol class="list _decimal"></ol></section><aside class="prompt" data-type="warning" data-title="" id="mrjyqh_46"><p>**Bonne pratique :** Un <code class="code" id="mrjyqh_58">Background</code> ne doit contenir que des &eacute;tapes <code class="code" id="mrjyqh_59">Given</code>. Il sert &agrave; mettre en place le contexte, pas &agrave; d&eacute;crire une action (<code class="code" id="mrjyqh_60">When</code>) ou une v&eacute;rification (<code class="code" id="mrjyqh_61">Then</code>). Il doit &ecirc;tre court et d&eacute;crire l'&eacute;tat &quot;normal&quot; du syst&egrave;me avant que le sc&eacute;nario ne commence.</p></aside></section><section class="chapter"><h2 id="2-tester-de-multiples-donn-es-avec-scenario-outline" data-toc="2-tester-de-multiples-donn-es-avec-scenario-outline">2. Tester de multiples donn&eacute;es avec <code class="code" id="mrjyqh_69">Scenario Outline</code></h2><p id="mrjyqh_63">Imaginons que nous d&eacute;veloppions la fonctionnalit&eacute; d'ajout d'un livre. Il existe des r&egrave;gles de validation : le titre ne doit pas &ecirc;tre vide, l'auteur non plus, etc. Nous devons tester tous ces cas.</p><p id="mrjyqh_64">Devrions-nous &eacute;crire un sc&eacute;nario pour le cas &quot;titre vide&quot;, un autre pour &quot;auteur vide&quot;, un autre pour le &quot;cas nominal&quot; ? Non, ce serait tr&egrave;s r&eacute;p&eacute;titif. C'est l&agrave; que le <code class="code" id="mrjyqh_70">Scenario Outline</code> (Mod&egrave;le de Sc&eacute;nario) brille.</p><p id="mrjyqh_65">Il permet de d&eacute;finir un sc&eacute;nario &quot;gabarit&quot; avec des variables (not&eacute;es <code class="code" id="mrjyqh_71">&lt;variable&gt;</code>), puis de fournir les diff&eacute;rentes valeurs &agrave; tester dans un tableau <code class="code" id="mrjyqh_72">Examples</code>.</p><figure id="mrjyqh_66"><img alt="uml-test-Workflow_du_Scenario_Outline.svg" src="images/uml-test-Workflow_du_Scenario_Outline.svg" title="uml-test-Workflow_du_Scenario_Outline.svg" width="1998" height="868"></figure><p> **Exemple concret :** </p><div class="code-block" data-lang="gherkin">
Feature: Ajout d'un nouveau livre au catalogue

  Background:
    Given je suis authentifié en tant que bibliothécaire

  Scenario Outline: Validation des données lors de l'ajout d'un livre
    When j'essaie d'ajouter un livre avec le titre &quot;&lt;titre&gt;&quot; et l'auteur &quot;&lt;auteur&gt;&quot;
    Then le système doit retourner le statut &quot;&lt;statut&gt;&quot;
    And si le statut est &quot;ERREUR&quot;, le message doit contenir &quot;&lt;message&gt;&quot;

    Examples:
      | titre                   | auteur          | statut    | message                          |
      | Le Rouge et le Noir     | Stendhal        | SUCCES    | Livre ajouté avec succès         |
      |                         | Victor Hugo     | ERREUR    | Le titre ne peut pas être vide   |
      | Les Misérables          |                 | ERREUR    | L'auteur ne peut pas être vide   |
      | A                       | B               | ERREUR    | Le titre doit faire 2 chars min  |
</div><p id="mrjyqh_68">Cucumber ex&eacute;cutera ce sc&eacute;nario 4 fois, en rempla&ccedil;ant &agrave; chaque fois les variables <code class="code" id="mrjyqh_73">&lt;titre&gt;</code>, <code class="code" id="mrjyqh_74">&lt;auteur&gt;</code>, etc., par les valeurs de chaque ligne du tableau <code class="code" id="mrjyqh_75">Examples</code>. C'est extr&ecirc;mement puissant pour les tests de validation.</p></section><section class="chapter"><h2 id="3-structurer-les-donn-es-avec-les-data-tables" data-toc="3-structurer-les-donn-es-avec-les-data-tables">3. Structurer les donn&eacute;es avec les <code class="code" id="mrjyqh_83">Data Tables</code></h2><p id="mrjyqh_77">Nous les avons d&eacute;j&agrave; intuitivement utilis&eacute;es dans le <code class="code" id="mrjyqh_84">Background</code>. Les <code class="code" id="mrjyqh_85">Data Tables</code> sont un moyen de passer des donn&eacute;es structur&eacute;es (plus qu'une simple cha&icirc;ne ou un nombre) &agrave; une &eacute;tape de test.</p><p id="mrjyqh_78">Elles sont parfaites pour :</p><ul class="list _bullet" id="mrjyqh_79"><li class="list__item" id="mrjyqh_86"><p id="mrjyqh_89">Initialiser une liste d'entit&eacute;s dans un <code class="code" id="mrjyqh_90">Given</code>.</p></li><li class="list__item" id="mrjyqh_87"><p id="mrjyqh_91">D&eacute;crire le contenu d'un formulaire envoy&eacute; dans un <code class="code" id="mrjyqh_92">When</code>.</p></li><li class="list__item" id="mrjyqh_88"><p id="mrjyqh_93">V&eacute;rifier une liste de r&eacute;sultats dans un <code class="code" id="mrjyqh_94">Then</code>.</p></li></ul><p id="mrjyqh_80"><span class="control" id="mrjyqh_95">Exemple : V&eacute;rifier le contenu d'un panier</span></p><div class="code-block" data-lang="gherkin">
  Scenario: Vérification du contenu du panier après ajout
    Given mon panier est vide
    When j'ajoute les livres suivants à mon panier:
      | titre  | auteur        |
      | Dune   | Frank Herbert |
      | 1984   | George Orwell |
    Then mon panier doit contenir 2 livres
    And le contenu du panier doit être:
      | titre  | auteur        |
      | 1984   | George Orwell |
      | Dune   | Frank Herbert |
</div><p id="mrjyqh_82">Plus tard, dans le code Java, nous verrons comment Cucumber transforme magiquement ces tableaux en <code class="code" id="mrjyqh_96">List&lt;Map&lt;String, String&gt;&gt;</code> ou m&ecirc;me directement en une liste de vos objets (DTOs), rendant leur manipulation tr&egrave;s facile.</p></section><section class="chapter"><h2 id="4-style-d-claratif-vs-imp-ratif-pensez-quoi-pas-comment" data-toc="4-style-d-claratif-vs-imp-ratif-pensez-quoi-pas-comment">4. Style D&eacute;claratif vs. Imp&eacute;ratif : Pensez &quot;Quoi&quot;, pas &quot;Comment&quot;</h2><p id="mrjyqh_97">C'est l'un des concepts les plus importants pour &eacute;crire des sc&eacute;narios BDD de qualit&eacute;.</p><div class="tabs" id="mrjyqh_98" data-anchors="[mrjyqh_101,mrjyqh_102]"><div class="tabs__content" data-gtm="tab" id="mrjyqh_101" data-title="Style Imp&eacute;ratif (&Agrave; &eacute;viter)"><p>Le style imp&eacute;ratif d&eacute;crit les **actions techniques**, les &quot;clics&quot;. Il est tr&egrave;s li&eacute; &agrave; l'impl&eacute;mentation de l'interface. </p><div class="code-block" data-lang="gherkin" data-title="Gherkin">
  Scenario: Recherche impérative
    When je saisis &quot;Dune&quot; dans le champ avec l'ID &quot;search_box&quot;
    And je clique sur le bouton avec le libellé &quot;Rechercher&quot;
    Then je dois voir &quot;Dune&quot; dans l'élément avec la classe &quot;results_list&quot;
</div><p id="mrjyqh_104"><span class="control" id="mrjyqh_106">Probl&egrave;mes :</span></p><ul class="list _bullet" id="mrjyqh_105"><li class="list__item" id="mrjyqh_107"><p id="mrjyqh_109">Illisible pour un non-technicien.</p></li><li class="list__item" id="mrjyqh_108"><p id="mrjyqh_110">Fragile : si un d&eacute;veloppeur renomme l'ID <code class="code" id="mrjyqh_111">search_box</code> en <code class="code" id="mrjyqh_112">book_title_search</code>, le test est cass&eacute;, alors que la fonctionnalit&eacute;, elle, marche toujours.</p></li></ul></div><div class="tabs__content" data-gtm="tab" id="mrjyqh_102" data-title="Style D&eacute;claratif (&Agrave; privil&eacute;gier)"><p>Le style d&eacute;claratif d&eacute;crit l'**intention de l'utilisateur**, le &quot;quoi&quot;. </p><div class="code-block" data-lang="gherkin" data-title="Gherkin">
  Scenario: Recherche déclarative
    When je recherche le livre &quot;Dune&quot;
    Then le livre &quot;Dune&quot; doit apparaître dans les résultats
</div><p id="mrjyqh_114"><span class="control" id="mrjyqh_116">Avantages :</span></p><ul class="list _bullet" id="mrjyqh_115"><li class="list__item" id="mrjyqh_117"><p id="mrjyqh_120"><span class="control" id="mrjyqh_121">Lisible par tous :</span> Un expert m&eacute;tier comprend imm&eacute;diatement le but du test.</p></li><li class="list__item" id="mrjyqh_118"><p id="mrjyqh_122"><span class="control" id="mrjyqh_123">Robuste :</span> Peu importe comment la recherche est impl&eacute;ment&eacute;e (un champ, un bouton, une recherche vocale...), le test reste valide tant que l'intention (&quot;rechercher un livre&quot;) est satisfaite.</p></li><li class="list__item" id="mrjyqh_119"><p id="mrjyqh_124"><span class="control" id="mrjyqh_125">R&eacute;utilisable :</span> L'&eacute;tape &quot;je recherche le livre...&quot; peut &ecirc;tre r&eacute;utilis&eacute;e dans de nombreux sc&eacute;narios.</p></li></ul></div></div><aside class="prompt" data-type="warning" data-title="" id="mrjyqh_99"><p>**Votre mantra doit &ecirc;tre : &quot;Parlez m&eacute;tier, pas technique !&quot;.** Vos fichiers <code class="code" id="mrjyqh_126">.feature</code> doivent d&eacute;crire le comportement de l'application, pas son impl&eacute;mentation. L'impl&eacute;mentation technique sera cach&eacute;e dans le code Java qui interpr&egrave;te ces phrases.</p></aside></section><section class="chapter"><h2 id="exercice-2-mettre-en-pratique-les-techniques-avanc-es" data-toc="exercice-2-mettre-en-pratique-les-techniques-avanc-es">Exercice 2 : Mettre en pratique les techniques avanc&eacute;es</h2><p id="mrjyqh_127">Maintenant, &agrave; vous de jouer ! Pour notre API de gestion de biblioth&egrave;que, nous allons d&eacute;finir les sc&eacute;narios pour la mise &agrave; jour d'un livre existant.</p><p id="mrjyqh_128"><span class="control" id="mrjyqh_131">Votre mission :</span> R&eacute;digez un fichier Gherkin nomm&eacute; <code class="code" id="mrjyqh_132">mise_a_jour_livre.feature</code>. Ce fichier doit :</p><ol class="list _decimal" id="mrjyqh_129" type="1"><li class="list__item" id="mrjyqh_133"><p id="mrjyqh_137">Utiliser un <code class="code" id="mrjyqh_138">Background</code> pour s'assurer qu'un livre sp&eacute;cifique (&quot;Dune&quot; de Frank Herbert, avec l'ID <code class="code" id="mrjyqh_139">dune-1965</code>) existe d&eacute;j&agrave; dans le syst&egrave;me.</p></li><li class="list__item" id="mrjyqh_134"><p id="mrjyqh_140">Utiliser un <code class="code" id="mrjyqh_141">Scenario Outline</code> pour tester la mise &agrave; jour de ce livre avec diff&eacute;rents cas.</p></li><li class="list__item" id="mrjyqh_135"><p id="mrjyqh_142">Le sc&eacute;nario doit permettre de tester la mise &agrave; jour du titre et de l'ann&eacute;e de publication.</p></li><li class="list__item" id="mrjyqh_136"><p id="mrjyqh_143">Pr&eacute;voyez les cas suivants dans le tableau <code class="code" id="mrjyqh_145">Examples</code>:</p><ul class="list _bullet" id="mrjyqh_144"><li class="list__item" id="mrjyqh_146"><p id="mrjyqh_149">Mise &agrave; jour r&eacute;ussie avec un nouveau titre et une nouvelle ann&eacute;e.</p></li><li class="list__item" id="mrjyqh_147"><p id="mrjyqh_150">Mise &agrave; jour &eacute;chou&eacute;e car le nouveau titre est vide.</p></li><li class="list__item" id="mrjyqh_148"><p id="mrjyqh_151">Mise &agrave; jour &eacute;chou&eacute;e car la nouvelle ann&eacute;e de publication est dans le futur.</p></li></ul></li></ol><p id="mrjyqh_130">Essayez de r&eacute;diger le sc&eacute;nario dans un style d&eacute;claratif.</p></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="correction-exercice-2" data-toc="correction-exercice-2">Correction exercice 2</h2></div><div class="collapse__content"><p id="mrjyqh_152">Voici une proposition qui combine toutes les notions que nous venons de voir.</p><div class="code-block" data-lang="gherkin">
# Nom du fichier : mise_a_jour_livre.feature

Feature: Mise à jour des informations d'un livre
  En tant que bibliothécaire,
  Je veux pouvoir modifier les informations d'un livre existant
  Afin de corriger les erreurs ou mettre à jour ses données.

  Background:
    Given le livre suivant existe dans la bibliothèque avec l'ID &quot;dune-1965&quot;:
      | titre              | auteur           | annee_publication |
      | Dune               | Frank Herbert    | 1965              |

  Scenario Outline: Mise à jour des détails d'un livre existant
    When j'essaie de mettre à jour le livre &quot;dune-1965&quot; avec les informations suivantes:
      | champ               | valeur                 |
      | titre               | &lt;nouveau_titre&gt;        |
      | annee_publication   | &lt;nouvelle_annee&gt;       |
    Then le statut de l'opération doit être &quot;&lt;statut&gt;&quot;
    And le message de réponse doit être &quot;&lt;message&gt;&quot;

    Examples:
      | nouveau_titre         | nouvelle_annee | statut | message                               |
      | Dune Messiah          | 1969           | SUCCES | Livre mis à jour avec succès          |
      |                       | 1969           | ERREUR | Le titre ne peut pas être vide        |
      | Dune                  | 2077           | ERREUR | L'année ne peut pas être future       |

</div><p id="mrjyqh_154"><span class="control" id="mrjyqh_157">Analyse de cette correction :</span></p><ul class="list _bullet" id="mrjyqh_155"><li class="list__item" id="mrjyqh_158"><p id="mrjyqh_163">Le <code class="code" id="mrjyqh_164">Background</code> met en place l'&eacute;tat initial de mani&egrave;re claire et isol&eacute;e.</p></li><li class="list__item" id="mrjyqh_159"><p id="mrjyqh_165">Le <code class="code" id="mrjyqh_166">Scenario Outline</code> d&eacute;finit un mod&egrave;le de test clair et r&eacute;utilisable.</p></li><li class="list__item" id="mrjyqh_160"><p id="mrjyqh_167">Le tableau <code class="code" id="mrjyqh_168">Examples</code> permet de v&eacute;rifier 3 cas m&eacute;tier distincts (succ&egrave;s, validation titre, validation ann&eacute;e) de mani&egrave;re tr&egrave;s concise.</p></li><li class="list__item" id="mrjyqh_161"><p id="mrjyqh_169">L'utilisation d'un <code class="code" id="mrjyqh_170">Data Table</code> dans le <code class="code" id="mrjyqh_171">When</code> est une fa&ccedil;on &eacute;l&eacute;gante de repr&eacute;senter les donn&eacute;es du formulaire de mise &agrave; jour.</p></li><li class="list__item" id="mrjyqh_162"><p id="mrjyqh_172">Le style est d&eacute;claratif : on dit &quot;je mets &agrave; jour le livre&quot;, pas &quot;je remplis le champ titre&quot; ou &quot;je clique sur enregistrer&quot;.</p></li></ul></div></div></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="mrjyqh_173" type="1"><li class="list__item" id="mrjyqh_175"><p id="mrjyqh_180"><span class="control" id="mrjyqh_181">Quand est-il judicieux d'utiliser un <code class="code" id="mrjyqh_184">Background</code>?</span> a) Pour d&eacute;crire le r&eacute;sultat d'un test. b) Quand plusieurs sc&eacute;narios dans le m&ecirc;me fichier partagent les m&ecirc;mes &eacute;tapes <code class="code" id="mrjyqh_182">Given</code>. c) Pour lister les diff&eacute;rents exemples de donn&eacute;es &agrave; tester. d) Pour remplacer un <code class="code" id="mrjyqh_183">Scenario</code>.</p></li><li class="list__item" id="mrjyqh_176"><p id="mrjyqh_185"><span class="control" id="mrjyqh_186">Quel est le principal avantage d'un <code class="code" id="mrjyqh_188">Scenario Outline</code>?</span> a) Il permet d'ex&eacute;cuter les tests plus rapidement. b) Il permet d'&eacute;crire des sc&eacute;narios plus longs et d&eacute;taill&eacute;s. c) Il &eacute;vite la duplication de la logique de sc&eacute;nario pour tester diff&eacute;rents jeux de donn&eacute;es. d) Il est obligatoire pour tous les fichiers <code class="code" id="mrjyqh_187">.feature</code>.</p></li><li class="list__item" id="mrjyqh_177"><p id="mrjyqh_189"><span class="control" id="mrjyqh_190">Lequel de ces &quot;steps&quot; est &eacute;crit dans un style d&eacute;claratif ?</span> a) <code class="code" id="mrjyqh_191">When je clique sur le bouton &quot;#submit-form&quot;</code> b) <code class="code" id="mrjyqh_192">When je soumets le formulaire d'inscription</code> c) <code class="code" id="mrjyqh_193">When j'appelle la m&eacute;thode saveUser() du UserService</code> d) <code class="code" id="mrjyqh_194">When la requ&ecirc;te POST est envoy&eacute;e &agrave; /users</code></p></li><li class="list__item" id="mrjyqh_178"><p id="mrjyqh_195"><span class="control" id="mrjyqh_196">Expliquez avec vos mots la diff&eacute;rence fondamentale entre <code class="code" id="mrjyqh_197">Background</code> et le premier <code class="code" id="mrjyqh_198">Given</code> d'un <code class="code" id="mrjyqh_199">Scenario</code>.</span></p></li><li class="list__item" id="mrjyqh_179"><p id="mrjyqh_200"><span class="control" id="mrjyqh_201">Donnez un exemple de situation o&ugrave; un <code class="code" id="mrjyqh_202">Data Table</code> serait plus appropri&eacute; pour passer des donn&eacute;es qu'une simple variable dans un <code class="code" id="mrjyqh_203">Scenario Outline</code>.</span></p></li></ol></section><section class="chapter"><h2 id="conclusion-vous-tes-pr-t-structurer-vos-tests" data-toc="conclusion-vous-tes-pr-t-structurer-vos-tests">Conclusion : Vous &ecirc;tes pr&ecirc;t &agrave; structurer vos tests</h2><p id="mrjyqh_204">F&eacute;licitations ! Vous avez ajout&eacute; &agrave; votre arsenal des outils Gherkin puissants qui vont vous permettre de garder vos sp&eacute;cifications propres, lisibles et maintenables, m&ecirc;me sur de grands projets.</p><p id="mrjyqh_205">Vous savez maintenant comment :</p><ul class="list _bullet" id="mrjyqh_206"><li class="list__item" id="mrjyqh_209"><p id="mrjyqh_213"><span class="control" id="mrjyqh_214">Factoriser</span> le contexte avec <code class="code" id="mrjyqh_215">Background</code> pour ne pas vous r&eacute;p&eacute;ter.</p></li><li class="list__item" id="mrjyqh_210"><p id="mrjyqh_216"><span class="control" id="mrjyqh_217">Multiplier</span> les cas de test sans effort avec <code class="code" id="mrjyqh_218">Scenario Outline</code>.</p></li><li class="list__item" id="mrjyqh_211"><p id="mrjyqh_219"><span class="control" id="mrjyqh_220">G&eacute;rer</span> des donn&eacute;es complexes avec les <code class="code" id="mrjyqh_221">Data Tables</code>.</p></li><li class="list__item" id="mrjyqh_212"><p id="mrjyqh_222"><span class="control" id="mrjyqh_223">Penser &quot;m&eacute;tier&quot;</span> gr&acirc;ce au style d&eacute;claratif.</p></li></ul><p id="mrjyqh_207">La th&eacute;orie est maintenant solidement acquise. Vous savez <span class="control" id="mrjyqh_224">pourquoi</span> faire du BDD et <span class="control" id="mrjyqh_225">comment</span> &eacute;crire des sp&eacute;cifications de qualit&eacute;. Il est grand temps de faire le lien avec notre application Spring Boot.</p><p id="mrjyqh_208">Dans le prochain module, nous allons enfin configurer notre environnement de d&eacute;veloppement, ajouter les d&eacute;pendances Cucumber &agrave; notre projet et pr&eacute;parer le terrain pour transformer notre premier fichier <code class="code" id="mrjyqh_226">.feature</code> en un v&eacute;ritable test automatis&eacute; qui s'ex&eacute;cute. Pr&eacute;parez votre IDE, l'action commence maintenant</p></section><div class="last-modified">18 juillet 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="001-00-intro.html" class="navigation-links__prev">Chapitre 1 : Les Fondations du BDD - L'essentiel</a><a href="002-00-dev-env-setup.html" class="navigation-links__next">Chapitre 2 : Mise en Place de l'Environnement de D&eacute;veloppement</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>